<!DOCTYPE html>
<html lang="en">
<head>
          <!--Import Google Icon Font-->
          <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
          <!--Import materialize.css-->
          <link type="text/css" rel="stylesheet" href="../css/materialize.min.css"  media="screen,projection"/>
    
          <!--Let browser know website is optimized for mobile-->
          <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

          <style>
              .centered{
                position: absolute;
                top:50%;
                left:50%;
                margin-left:-110px;
                margin-top:-20px;
            }
            .float{
                position: absolute;
                bottom:10%;
                left:50%;
                margin-left:-45px;
                margin-top:50px;
            }
          </style>
</head>
<body>
    <nav class="nav-wrapper teal">
        <a href="#" class="brand-logo center">Shopping List</a>
    </nav>
    
    <table></table>

    <div class="centered">
        Click the + button to add new Item
    </div>

    <div class="float">
        <button onclick=addItems() id="add" class="btn-floating btn-large waves-effect waves-light teal z-depth-4"><i class="material-icons">add</i></button>
    </div>
    

    <script>
        const electron = require('electron');
        const {ipcRenderer} = electron;

        //let list = document.querySelector('#list');

       // list.addEventListener("dblclick", removeItem)

        addbutton = document.querySelector('button');

        ipcRenderer.on('add:item', appendList);
        ipcRenderer.on('clear:item', clearItems);


        const  addItems = (e) => ipcRenderer.send('add:page')

        function clearItems(e){
            list.innerHTML = ""
            list.className = ""
        }


        function removeItem(e){
            e.target.remove()
            if (list.children.length == 0){
                list.className = ""
            }
        }

        function appendList(e, item){
            if(list.children.length <= 0){
                list.className = "collection"
            }

            let li = document.createElement("li");
            let text = document.createTextNode(item)

            li.appendChild(text)
            li.className = "collection-item";
            list.appendChild(li)
        }

    </script>
    <script type="text/javascript" src="../js/materialize.min.js"></script>
</body>
</html>